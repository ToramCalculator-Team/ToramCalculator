# 托拉姆计算（Toram Calculator）

## 一、项目概述

### 1. 项目背景
当前托拉姆在线（Toram Online）玩家主要依赖论坛、社区攻略进行配装与技能规划。然而大量攻略缺乏精确计算与统一验证，存在结论不一致、适用条件不清晰等问题，尤其对新手玩家学习成本较高。

### 2. 项目目标
构建一个**可模拟、可计算、可对比**的战斗分析工具，允许玩家在游戏外验证配装与技能策略，量化其战斗表现，从而：
- 减少反复实机测试的时间与资源成本
- 帮助新手理解复杂战斗系统
- 为资深玩家提供精细化优化手段

### 3. 产品定位
- 类型：战斗模拟与策略验证工具
- 平台：Web（优先 PWA，本地优先）
- 用户属性：非开发者为主，偏数据理解与策略分析

---

## 二、用户研究

### 1. 用户分类

#### 新手玩家
- 特征：
  - 对托拉姆战斗系统理解不完整
  - 容易被碎片化攻略误导
- 核心诉求：
  - 理解属性、装备、技能的作用
  - 获得可验证的配装建议

#### 进阶 / 资深玩家
- 特征：
  - 具备一定数值理解能力
  - 有明确机体目标（DPS、稳定性、高性能技能循环等）
- 核心诉求：
  - 精确验证机体收益
  - 多方案对比与极限优化

### 2. 使用场景
- 配装前：快速评估方案可行性
- 配装中：比较细微数值差异
- 攻略验证：验证他人方案是否成立

---

## 三、需求分析

### 核心问题
- 无法在游戏外低成本验证策略
- 攻略结论难以量化、复现
- 多变量组合导致实机试错成本极高

### 核心需求
- 用户可自由定义角色、装备、技能、战斗流程
- 系统能够在统一规则下进行战斗模拟
- 输出可对比、可视化的战斗数据

---

## 四、功能需求

### 1. 基础功能

#### 1.1 角色 / 机体创建
- 等级输入：
  - 角色等级
- 强化点数分配输入：
  - 基础属性（STR / INT / DEX / VIT / AGI）
  - 角色特殊属性（TEC / MEN / CRI / LUK）
- 技能配置：
  - 星石配置：
    - 星石类型（对应的技能名称）
    - 星石等级（视作技能等级）
  - 技能树配置：
    - 技能树类型：
    - 技能树配置：
        - 技能习得情况：
          - 技能是否习得
          - 技能习得等级
- 连击配置：
  - 连击列表：
    - 连击序列：
      - 技能类型
      - 连击效果
- 装备配置：
  - 装备部位：
    - 装备类型
    - 装备参数：
      - 精炼等级
      - 额外属性
      - 附魔属性
      - 颜色信息
- 临时状态（消耗品附加增益）配置：
  - 消耗品类型
  - 消耗品增益参数
- 料理增益配置：
  - 料理类型
  - 料理等级
- 雷吉斯托环配置：
  - 托环列表
      - 托环类型
      - 托环等级
- 机体支援配置：
  - 支援类型（坦克/战神）
  - 支援技能配置：
    - 支援技能名称
    - 支援技能发动条件设置

#### 1.2 战斗模拟
- 战斗环境配置：
  - 阵营配置：
    - 队伍配置：
      - 队伍增益（晶石）配置
      - 队伍成员配置：
        - 成员类型配置
        - 成员选择（指定机体）
- 实时模拟器：
  - 方向输入
  - 技能输入
  - 目标选择
  - 闪躲/格挡输入
  - 道具选择
- 模拟输出：
  - 总伤害
  - DPS
  - 总伤害/累计消耗Mp随时间的变化

#### 1.3 策略管理
- 机体和流程保存（本地优先）
- 机体和流程复制与版本演进
- 机体和流程分享（链接 / JSON）

#### 1.4 策略优化
- 基于模拟结果的反馈
- 提示关键瓶颈（MP 不足、技能溢出等）

---

### 2. 高级功能

#### 2.1 数据可视化
- 折线图：
  - 伤害随时间变化
  - MP 随时间变化
- 汇总图表：
  - 技能伤害占比
  - 行为频率

#### 2.2 多方案对比
- 同场景下并行模拟
- 指标对齐（DPS / 稳定性 / 波动）
- 高亮最优 / 差异点

#### 2.3 战斗过程回放
- 时间轴驱动
- 技能释放顺序可视化
- 状态变化展示

---

## 五、产品结构设计

### 1. 信息架构（IA）

- 首页
  - 资料搜素
  - 资料分类浏览
  - 机体配置
  - 战斗模拟
  - 应用设置
  - 小工具菜单
  - 登录/登出/注册
- 资料库
  - 分类资料页面
    - 列表展示
    - 筛选和排序
    - 资料卡片展示（弹出层）
    - 资料CURD
    - 资料库统计信息展示
- 机体编辑器
  - 机体库浏览
    - 机体信息
    - 使用机体构建战斗模拟
  - 机体CURD
- 战斗模拟器
  - 战场配置（阵营配置等）
  - 实时模拟器
  - 数据分析模块
    - 数据可视化

## 六、设计原则

- **可验证性优先**：所有结论必须来自可复现计算
- **渐进复杂度**：新手可用，高手可深挖
- **本地优先**：离线可用，数据由用户掌控
- **解释性输出**：不仅给结果，也给过程

---

## 七、风险与边界

- 不追求 100% 还原服务器实现
- 明确标注模拟假设与误差来源
- 避免直接给出“最优答案”，而是提供决策依据

---

## 八、后续扩展方向

- 官方数据版本管理
- 社区机体评分与讨论
- AI 辅助机体分析与优化建议

