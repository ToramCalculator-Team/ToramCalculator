# æ¨¡æ‹Ÿå™¨æ¶æ„è¯´æ˜æ–‡æ¡£

## æ¶æ„æ¦‚è§ˆ

æ¨¡æ‹Ÿå™¨é‡‡ç”¨**äº‹ä»¶é©±åŠ¨æ¶æ„**ï¼Œé€šè¿‡**å¸§å¾ªç¯**æ¨è¿›æ—¶é—´ï¼Œä½¿ç”¨**XStateçŠ¶æ€æœº**å¤„ç†å¤æ‚çš„æˆå‘˜è¡Œä¸ºé€»è¾‘ã€‚æ•´ä¸ªç³»ç»Ÿè®¾è®¡éµå¾ª**å•ä¸€èŒè´£åŸåˆ™**å’Œ**ä¾èµ–å€’ç½®åŸåˆ™**ã€‚

### æ ¸å¿ƒè®¾è®¡ç†å¿µ
- **äº‹ä»¶é©±åŠ¨**: æ‰€æœ‰è¡Œä¸ºéƒ½é€šè¿‡äº‹ä»¶è§¦å‘å’Œå¤„ç†
- **å¸§åŒæ­¥**: åŸºäºå›ºå®šå¸§ç‡çš„æ—¶é—´æ¨è¿›æœºåˆ¶
- **çŠ¶æ€æœºé©±åŠ¨**: ä½¿ç”¨XStateç®¡ç†å¤æ‚çš„æˆå‘˜è¡Œä¸ºçŠ¶æ€
- **æ¨¡å—åŒ–**: æ¯ä¸ªæ¨¡å—èŒè´£å•ä¸€ï¼Œä½è€¦åˆé«˜å†…èš
- **å¯æ‰©å±•**: æ”¯æŒæ’ä»¶å¼çš„äº‹ä»¶å¤„ç†å™¨å’Œè§„åˆ™ç³»ç»Ÿ

---

## æ¨¡å—èŒè´£åˆ’åˆ†

### 1. æ ¸å¿ƒå¼•æ“æ¨¡å— (Core Engine)

#### 1.1 GameEngine - å¼•æ“å®¹å™¨
**æ–‡ä»¶**: `src/components/module/simulator/core/GameEngine.ts`

**æ ¸å¿ƒèŒè´£**:
- ä½œä¸ºæ ¸å¿ƒè¿è¡Œæ—¶å®¹å™¨ï¼Œé›†æˆæ‰€æœ‰æ¨¡å—
- åè°ƒMemberRegistryã€MessageRouterã€FrameLoopã€EventQueueç­‰æ¨¡å—
- æä¾›ç»Ÿä¸€çš„å¼•æ“æ¥å£
- ç®¡ç†å¼•æ“ç”Ÿå‘½å‘¨æœŸï¼ˆå¯åŠ¨ã€åœæ­¢ã€æš‚åœã€æ¢å¤ï¼‰

**å·²å®ç°åŠŸèƒ½**:
- âœ… å¼•æ“çŠ¶æ€ç®¡ç† (initialized/running/paused/stopped)
- âœ… æ¨¡å—é›†æˆå’Œåˆå§‹åŒ–
- âœ… æˆå‘˜ç®¡ç†å§”æ‰˜æ¥å£
- âœ… æ„å›¾æ¶ˆæ¯å¤„ç†
- âœ… äº‹ä»¶å¤„ç†å™¨æ³¨å†Œ
- âœ… å¿«ç…§ç”Ÿæˆå’Œç®¡ç†
- âœ… ç»Ÿè®¡ä¿¡æ¯æ”¶é›†

**å…³é”®æ¥å£**:
```typescript
// å¼•æ“æ§åˆ¶
start(): void
stop(): void
pause(): void
resume(): void

// æˆå‘˜ç®¡ç†
addMember(campId, teamId, memberData, initialState): void
getMemberData(memberId): any | null

// æ¶ˆæ¯å¤„ç†
processIntent(message: IntentMessage): Promise<MessageProcessResult>
processFSMEvent(fsmEvent: FSMEvent): boolean
```

#### 1.2 EventQueue - äº‹ä»¶é˜Ÿåˆ—
**æ–‡ä»¶**: `src/components/module/simulator/core/EventQueue.ts`

**æ ¸å¿ƒèŒè´£**:
- ç®¡ç†æ—¶é—´ç‰‡æ®µçš„äº‹ä»¶é˜Ÿåˆ—
- æŒ‰å¸§å·å’Œä¼˜å…ˆçº§æ’åºäº‹ä»¶
- æä¾›äº‹ä»¶çš„æ’å…¥ã€æ‰§è¡Œã€æ¸…ç†æ¥å£
- æ”¯æŒäº‹ä»¶å¿«ç…§å’Œå›æº¯

**å·²å®ç°åŠŸèƒ½**:
- âœ… ä¼˜å…ˆçº§äº‹ä»¶é˜Ÿåˆ— (critical/high/normal/low)
- âœ… æŒ‰å¸§å·æ’åºçš„äº‹ä»¶è°ƒåº¦
- âœ… äº‹ä»¶æ¥æºå’Œè¡Œä¸ºIDå…³è”
- âœ… æ‰¹é‡äº‹ä»¶å¤„ç†
- âœ… äº‹ä»¶æ¸…ç†å’Œè¿‡æ»¤
- âœ… é˜Ÿåˆ—çŠ¶æ€ç»Ÿè®¡

**å…³é”®æ¥å£**:
```typescript
// äº‹ä»¶ç®¡ç†
insert(event: BaseEvent, priority?: EventPriority): boolean
getEventsForFrame(frameNumber: number): QueueEvent[]
executeEvents(events: QueueEvent[], context: ExecutionContext): EventResult[]

// æ¸…ç†æ“ä½œ
clearEventsBySource(source: string): number
clearEventsByAction(actionId: string): number
clear(): void
```

#### 1.3 FrameLoop - å¸§å¾ªç¯
**æ–‡ä»¶**: `src/components/module/simulator/core/FrameLoop.ts`

**æ ¸å¿ƒèŒè´£**:
- æ¨è¿›æ—¶é—´å’Œè°ƒåº¦äº‹ä»¶æ‰§è¡Œ
- ç®¡ç†å¸§ç‡å’Œæ€§èƒ½ç›‘æ§
- é›†æˆäº‹ä»¶é˜Ÿåˆ—å’Œæˆå‘˜æ³¨å†Œè¡¨
- å¤„ç†å¸§è·³è¿‡å’Œæ€§èƒ½ä¼˜åŒ–

**å·²å®ç°åŠŸèƒ½**:
- âœ… å›ºå®šå¸§ç‡å¾ªç¯ (é»˜è®¤60fps)
- âœ… äº‹ä»¶è°ƒåº¦å’Œæ‰§è¡Œ
- âœ… æ€§èƒ½ç›‘æ§å’Œç»Ÿè®¡
- âœ… å¸§è·³è¿‡æœºåˆ¶
- âœ… ç”Ÿå‘½å‘¨æœŸç®¡ç†

**å…³é”®æ¥å£**:
```typescript
// å¾ªç¯æ§åˆ¶
start(): void
stop(): void
pause(): void
resume(): void
step(): void

// äº‹ä»¶å¤„ç†
registerEventHandler(eventType: string, handler: EventHandler): void
getFrameNumber(): number
getPerformanceStats(): FrameLoopStats
```

### 2. æˆå‘˜ç®¡ç†æ¨¡å— (Member Management)

#### 2.1 MemberRegistry - æˆå‘˜æ³¨å†Œè¡¨
**æ–‡ä»¶**: `src/components/module/simulator/core/MemberRegistry.ts`

**æ ¸å¿ƒèŒè´£**:
- ç®¡ç†æ‰€æœ‰å®ä½“ï¼ˆPlayers/NPCsç­‰ï¼‰çš„å¼•ç”¨
- è´Ÿè´£ç»Ÿä¸€è®¿é—®ã€åˆ›å»ºã€é”€æ¯ç­‰ç”Ÿå‘½å‘¨æœŸæ“ä½œ
- åŒ…å«å¯¹çŠ¶æ€æœºï¼ˆFSMï¼‰çš„å¼•ç”¨
- æä¾›æŒ‰é˜µè¥ã€é˜Ÿä¼çš„æŸ¥è¯¢æ¥å£

**å·²å®ç°åŠŸèƒ½**:
- âœ… æˆå‘˜å®ä¾‹ç®¡ç† (åˆ›å»ºã€æ³¨å†Œã€é”€æ¯)
- âœ… æŒ‰IDã€é˜µè¥ã€é˜Ÿä¼æŸ¥è¯¢
- âœ… æˆå‘˜çŠ¶æ€ç›‘æ§
- âœ… ç”Ÿå‘½å‘¨æœŸç®¡ç†

**å…³é”®æ¥å£**:
```typescript
// æˆå‘˜ç®¡ç†
createAndRegister(campId, teamId, memberData, initialState): string
getMember(memberId: string): Member | null
getAllMembers(): Member[]

// æŸ¥è¯¢æ¥å£
getMembersByCamp(campId: string): Member[]
getMembersByTeam(teamId: string): Member[]
size(): number
```

#### 2.2 Member - æˆå‘˜åŸºç±»
**æ–‡ä»¶**: `src/components/module/simulator/core/Member.ts`

**æ ¸å¿ƒèŒè´£**:
- å®šä¹‰æˆå‘˜çš„åŸºæœ¬å±æ€§å’Œè¡Œä¸ºæ¥å£
- é›†æˆXStateçŠ¶æ€æœº
- æä¾›ç»Ÿä¸€çš„æˆå‘˜æ“ä½œæ¥å£
- å¤„ç†æˆå‘˜äº‹ä»¶å’ŒçŠ¶æ€å˜åŒ–

**å·²å®ç°åŠŸèƒ½**:
- âœ… åŸºæœ¬å±æ€§ç®¡ç† (IDã€åç§°ã€ç±»å‹)
- âœ… çŠ¶æ€æœºé›†æˆ
- âœ… äº‹ä»¶å¤„ç†æ¥å£
- âœ… åºåˆ—åŒ–æ”¯æŒ

#### 2.3 Player/Mob - å…·ä½“æˆå‘˜ç±»å‹
**æ–‡ä»¶**: `src/components/module/simulator/core/Player.ts`, `src/components/module/simulator/core/Mob.ts`

**æ ¸å¿ƒèŒè´£**:
- ç»§æ‰¿MemberåŸºç±»
- å®ç°ç‰¹å®šç±»å‹çš„è¡Œä¸ºé€»è¾‘
- å®šä¹‰ç±»å‹ç›¸å…³çš„å±æ€§å’Œæ–¹æ³•

### 3. æ¶ˆæ¯è·¯ç”±æ¨¡å— (Message Routing)

#### 3.1 MessageRouter - æ¶ˆæ¯è·¯ç”±å™¨
**æ–‡ä»¶**: `src/components/module/simulator/core/MessageRouter.ts`

**æ ¸å¿ƒèŒè´£**:
- æ¥æ”¶å¤–éƒ¨æŒ‡ä»¤ï¼ˆæ§åˆ¶å™¨/AIï¼‰
- åˆ†å‘ç»™ç›¸åº”çš„FSM/å®ä¾‹å¤„ç†
- çº¯åˆ†å‘èŒè´£ï¼Œä¸å¤„ç†ä¸šåŠ¡é€»è¾‘

**å·²å®ç°åŠŸèƒ½**:
- âœ… æ„å›¾æ¶ˆæ¯è·¯ç”± (cast_skill/move/stop_actionç­‰)
- âœ… æ¶ˆæ¯éªŒè¯å’Œé”™è¯¯å¤„ç†
- âœ… æ‰¹é‡æ¶ˆæ¯å¤„ç†
- âœ… å¤„ç†ç»Ÿè®¡

**å…³é”®æ¥å£**:
```typescript
// æ¶ˆæ¯å¤„ç†
processMessage(message: IntentMessage): Promise<MessageProcessResult>
processMessages(messages: IntentMessage[]): Promise<MessageProcessResult[]>
getStats(): MessageRouterStats
```

#### 3.2 FSMEventBridge - FSMäº‹ä»¶æ¡¥æ¥å™¨
**æ–‡ä»¶**: `src/components/module/simulator/core/FSMEventBridge.ts`

**æ ¸å¿ƒèŒè´£**:
- è¿æ¥XStateçŠ¶æ€æœºå’ŒEventQueue
- å°†FSMçš„Actionè½¬æ¢ä¸ºEventQueueäº‹ä»¶
- æä¾›çŠ¶æ€æœºäº‹ä»¶ç”Ÿæˆçš„ç»Ÿä¸€æ¥å£
- æ”¯æŒäº‹ä»¶çš„ä¸­æ–­å’Œæ¸…ç†

**å·²å®ç°åŠŸèƒ½**:
- âœ… FSMäº‹ä»¶åˆ°é˜Ÿåˆ—äº‹ä»¶çš„è½¬æ¢
- âœ… å¯æ‰©å±•çš„è½¬æ¢è§„åˆ™ç³»ç»Ÿ
- âœ… æŠ€èƒ½ç”Ÿå‘½å‘¨æœŸäº‹ä»¶ç”Ÿæˆ
- âœ… çŠ¶æ€å˜åŒ–äº‹ä»¶å¤„ç†
- âœ… åŠ¨ç”»äº‹ä»¶å¤„ç†
- âœ… äº‹ä»¶æ¸…ç†å’Œç»Ÿè®¡

**å…³é”®æ¥å£**:
```typescript
// äº‹ä»¶å¤„ç†
processFSMEvent(fsmEvent: FSMEvent, currentFrame: number): boolean
processFSMEvents(fsmEvents: FSMEvent[], currentFrame: number): number

// è§„åˆ™ç®¡ç†
registerTransformRule(rule: EventTransformRule): void
unregisterTransformRule(ruleName: string): void

// æ¸…ç†æ“ä½œ
clearEventsBySource(source: string): number
clearEventsByAction(actionId: string): number
```

### 4. äº‹ä»¶å¤„ç†æ¨¡å— (Event Processing)

#### 4.1 EventExecutor - äº‹ä»¶æ‰§è¡Œå™¨
**æ–‡ä»¶**: `src/components/module/simulator/core/EventExecutor.ts`

**æ ¸å¿ƒèŒè´£**:
- å¤„ç†å¤æ‚çš„äº‹ä»¶æ•ˆæœè®¡ç®—
- å¤„ç†ä¼¤å®³è¡¨è¾¾å¼è®¡ç®—
- å¤„ç†Buffåº”ç”¨å’Œç§»é™¤
- å¤„ç†çŠ¶æ€æ•ˆæœåº”ç”¨

**å·²å®ç°åŠŸèƒ½**:
- âœ… è¡¨è¾¾å¼è®¡ç®—ç³»ç»Ÿ
- âœ… ä¼¤å®³è®¡ç®—
- âœ… Buffç®¡ç†
- âœ… çŠ¶æ€æ•ˆæœåº”ç”¨

#### 4.2 EventHandlerFactory - äº‹ä»¶å¤„ç†å™¨å·¥å‚
**æ–‡ä»¶**: `src/components/module/simulator/handlers/EventHandlerFactory.ts`

**æ ¸å¿ƒèŒè´£**:
- åˆ›å»ºæ‰€æœ‰äº‹ä»¶å¤„ç†å™¨å®ä¾‹
- æ³¨å…¥å¿…è¦çš„ä¾èµ–
- æä¾›å¤„ç†å™¨æ³¨å†Œæ¥å£

**å·²å®ç°åŠŸèƒ½**:
- âœ… å¤„ç†å™¨å·¥å‚æ¨¡å¼
- âœ… ä¾èµ–æ³¨å…¥
- âœ… é»˜è®¤å¤„ç†å™¨åˆ›å»º

#### 4.3 CombatHandlers - æˆ˜æ–—äº‹ä»¶å¤„ç†å™¨
**æ–‡ä»¶**: `src/components/module/simulator/handlers/CombatHandlers.ts`

**æ ¸å¿ƒèŒè´£**:
- å¤„ç†æˆ˜æ–—ç›¸å…³äº‹ä»¶
- ä¼¤å®³ã€æ²»ç–—ã€æ­»äº¡äº‹ä»¶å¤„ç†
- Buffåº”ç”¨å’Œç§»é™¤

#### 4.4 SkillHandlers - æŠ€èƒ½äº‹ä»¶å¤„ç†å™¨
**æ–‡ä»¶**: `src/components/module/simulator/handlers/SkillHandlers.ts`

**æ ¸å¿ƒèŒè´£**:
- å¤„ç†æŠ€èƒ½ç›¸å…³äº‹ä»¶
- æŠ€èƒ½ç”Ÿå‘½å‘¨æœŸäº‹ä»¶å¤„ç†
- æŠ€èƒ½æ•ˆæœè®¡ç®—

---

## æ•°æ®æµå‘å›¾

```
å¤–éƒ¨æŒ‡ä»¤ â†’ MessageRouter â†’ Member.FSM â†’ FSMEventBridge â†’ EventQueue â†’ FrameLoop â†’ EventHandlers â†’ MemberçŠ¶æ€å˜åŒ–
    â†“              â†“           â†“            â†“            â†“          â†“            â†“
å®æ—¶æ§åˆ¶       æ¶ˆæ¯è·¯ç”±     çŠ¶æ€è½¬æ¢      äº‹ä»¶è½¬æ¢      äº‹ä»¶æ’é˜Ÿ    å¸§è°ƒåº¦      æ•ˆæœæ‰§è¡Œ
```

### è¯¦ç»†æµç¨‹è¯´æ˜

1. **å¤–éƒ¨æŒ‡ä»¤è¾“å…¥**
   - ç”¨æˆ·æ“ä½œæˆ–AIå†³ç­–ç”ŸæˆIntentMessage
   - æ¶ˆæ¯åŒ…å«ç›®æ ‡ã€ç±»å‹ã€æ•°æ®ç­‰ä¿¡æ¯

2. **æ¶ˆæ¯è·¯ç”±**
   - MessageRouteræ¥æ”¶å¹¶éªŒè¯æ¶ˆæ¯
   - æ ¹æ®ç›®æ ‡æˆå‘˜IDè·¯ç”±åˆ°å¯¹åº”çš„Memberå®ä¾‹
   - è°ƒç”¨Memberçš„FSMå‘é€äº‹ä»¶

3. **çŠ¶æ€æœºå¤„ç†**
   - XStateçŠ¶æ€æœºæ ¹æ®å½“å‰çŠ¶æ€å’Œäº‹ä»¶å†³å®šè½¬æ¢
   - æ‰§è¡Œç›¸åº”çš„Actionï¼Œäº§ç”ŸFSMEvent

4. **äº‹ä»¶è½¬æ¢**
   - FSMEventBridgeæ¥æ”¶FSMEvent
   - æ ¹æ®è½¬æ¢è§„åˆ™ç”Ÿæˆä¸€ä¸ªæˆ–å¤šä¸ªBaseEvent
   - è®¾ç½®æ‰§è¡Œå¸§å·å’Œä¼˜å…ˆçº§

5. **äº‹ä»¶æ’é˜Ÿ**
   - EventQueueæŒ‰å¸§å·å’Œä¼˜å…ˆçº§æ’åºäº‹ä»¶
   - ç­‰å¾…FrameLoopè°ƒåº¦æ‰§è¡Œ

6. **å¸§è°ƒåº¦**
   - FrameLoopæŒ‰å›ºå®šå¸§ç‡æ¨è¿›
   - è·å–å½“å‰å¸§çš„äº‹ä»¶å¹¶æ‰§è¡Œ
   - è°ƒç”¨ç›¸åº”çš„EventHandlerå¤„ç†

7. **æ•ˆæœæ‰§è¡Œ**
   - EventHandleræ‰§è¡Œå…·ä½“çš„æ¸¸æˆé€»è¾‘
   - ä¿®æ”¹æˆå‘˜çŠ¶æ€ã€è®¡ç®—ä¼¤å®³ç­‰
   - å¯èƒ½äº§ç”Ÿæ–°çš„äº‹ä»¶ç»§ç»­å¾ªç¯

---

## èŒè´£åˆ’åˆ†åˆ†æ

### âœ… èŒè´£æ˜ç¡®çš„æ¨¡å—

1. **GameEngine**: çº¯å®¹å™¨ï¼ŒèŒè´£æ¸…æ™°
2. **EventQueue**: å•ä¸€èŒè´£ï¼Œåªç®¡ç†äº‹ä»¶é˜Ÿåˆ—
3. **FrameLoop**: ä¸“æ³¨æ—¶é—´æ¨è¿›å’Œè°ƒåº¦
4. **MessageRouter**: çº¯è·¯ç”±ï¼Œä¸å¤„ç†ä¸šåŠ¡é€»è¾‘
5. **FSMEventBridge**: ä¸“é—¨çš„é€‚é…å™¨ï¼ŒèŒè´£å•ä¸€
6. **EventExecutor**: ä¸“æ³¨è®¡ç®—å’Œæ•ˆæœå¤„ç†
7. **EventHandlerFactory**: å·¥å‚æ¨¡å¼ï¼ŒèŒè´£æ˜ç¡®

### âš ï¸ éœ€è¦å…³æ³¨çš„æ¨¡å—

1. **MemberRegistry**: 
   - å½“å‰èŒè´£è¾ƒä¸ºæ¸…æ™°
   - å»ºè®®å¢åŠ ç¼“å­˜å’Œæ€§èƒ½ä¼˜åŒ–

2. **MemberåŸºç±»**:
   - éœ€è¦æ˜ç¡®ä¸å…·ä½“ç±»å‹çš„èŒè´£è¾¹ç•Œ
   - å»ºè®®å°†é€šç”¨è¡Œä¸ºä¸Šç§»åˆ°åŸºç±»

3. **äº‹ä»¶å¤„ç†å™¨**:
   - éœ€è¦ç¡®ä¿å¤„ç†å™¨ä¹‹é—´çš„ç‹¬ç«‹æ€§
   - å»ºè®®å»ºç«‹æ ‡å‡†çš„å¤„ç†å™¨æ¥å£

### ğŸ”§ ä¼˜åŒ–å»ºè®®

1. **å¢åŠ æ¥å£å±‚**:
   - ä¸ºæ ¸å¿ƒæ¨¡å—å®šä¹‰æ˜ç¡®çš„æ¥å£
   - æé«˜å¯æµ‹è¯•æ€§å’Œå¯æ‰©å±•æ€§

2. **é”™è¯¯å¤„ç†**:
   - ç»Ÿä¸€çš„é”™è¯¯å¤„ç†æœºåˆ¶
   - å¼‚å¸¸æƒ…å†µçš„æ¢å¤ç­–ç•¥

3. **æ€§èƒ½ç›‘æ§**:
   - æ›´è¯¦ç»†çš„æ€§èƒ½æŒ‡æ ‡
   - ç“¶é¢ˆè¯†åˆ«å’Œä¼˜åŒ–

4. **æ–‡æ¡£å®Œå–„**:
   - APIæ–‡æ¡£
   - ä½¿ç”¨ç¤ºä¾‹
   - æœ€ä½³å®è·µ

---

## æ‰©å±•ç‚¹

### 1. äº‹ä»¶ç³»ç»Ÿæ‰©å±•
- è‡ªå®šä¹‰äº‹ä»¶ç±»å‹
- äº‹ä»¶è¿‡æ»¤å™¨
- äº‹ä»¶æŒä¹…åŒ–

### 2. çŠ¶æ€æœºæ‰©å±•
- è‡ªå®šä¹‰çŠ¶æ€æœº
- çŠ¶æ€æœºæ¨¡æ¿
- çŠ¶æ€æœºè°ƒè¯•å·¥å…·

### 3. è®¡ç®—ç³»ç»Ÿæ‰©å±•
- è‡ªå®šä¹‰è®¡ç®—å‡½æ•°
- è¡¨è¾¾å¼ç¼“å­˜
- å¹¶è¡Œè®¡ç®—

### 4. å¤„ç†å™¨æ‰©å±•
- æ’ä»¶å¼å¤„ç†å™¨
- å¤„ç†å™¨é“¾
- æ¡ä»¶å¤„ç†å™¨

---

## æ€»ç»“

å½“å‰æ¨¡æ‹Ÿå™¨æ¶æ„**èŒè´£åˆ’åˆ†è¾ƒä¸ºæ˜ç¡®**ï¼Œé‡‡ç”¨äº†è‰¯å¥½çš„è®¾è®¡æ¨¡å¼å’Œæ¶æ„åŸåˆ™ã€‚ä¸»è¦ä¼˜åŠ¿ï¼š

1. **æ¨¡å—åŒ–è®¾è®¡**: æ¯ä¸ªæ¨¡å—èŒè´£å•ä¸€ï¼Œä¾¿äºç»´æŠ¤å’Œæ‰©å±•
2. **äº‹ä»¶é©±åŠ¨**: æ¾è€¦åˆçš„äº‹ä»¶ç³»ç»Ÿï¼Œæ˜“äºè°ƒè¯•å’Œæµ‹è¯•
3. **çŠ¶æ€æœºé›†æˆ**: å¤æ‚è¡Œä¸ºé€»è¾‘æ¸…æ™°å¯æ§
4. **æ€§èƒ½å¯¼å‘**: å¸§å¾ªç¯å’Œäº‹ä»¶é˜Ÿåˆ—ä¼˜åŒ–äº†æ€§èƒ½
5. **å¯æ‰©å±•æ€§**: æ’ä»¶å¼çš„å¤„ç†å™¨å’Œè§„åˆ™ç³»ç»Ÿ

éœ€è¦ç»§ç»­å®Œå–„çš„æ–¹é¢ä¸»è¦æ˜¯é”™è¯¯å¤„ç†ã€æ€§èƒ½ä¼˜åŒ–å’Œæ–‡æ¡£å®Œå–„ã€‚æ•´ä½“æ¶æ„è®¾è®¡ç¬¦åˆç°ä»£æ¸¸æˆå¼•æ“çš„æœ€ä½³å®è·µã€‚